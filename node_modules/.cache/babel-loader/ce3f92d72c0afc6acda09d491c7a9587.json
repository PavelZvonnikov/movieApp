{"ast":null,"code":"import _objectSpread from \"/home/pavel/git/reactwarriors-movie-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/pavel/git/reactwarriors-movie-app/src/components/App.jsx\";\nimport React from \"react\";\nimport Filters from \"./Filters/Filters\";\nimport MoviesList from \"./Movies/MoviesList\";\nimport { API_URL, API_KEY_3 } from \"../api/api.js\";\nimport { yearsList } from \"../data/yearsList.js\";\nexport default class App extends React.Component {\n  constructor() {\n    super();\n\n    this.onChangeFilters = e => {\n      const newFilters = _objectSpread({}, this.state.filters, {\n        [e.target.name]: e.target.value\n      });\n\n      this.setState({\n        filters: newFilters\n      });\n    };\n\n    this.onChangePage = page => {\n      this.setState({\n        page: page\n      });\n    };\n\n    this.getAmountPages = value => {\n      this.setState({\n        amountFilms: value\n      });\n    };\n\n    this.clearFilters = () => {\n      this.setState({\n        filters: {\n          sort_by: \"popularity.desc\",\n          year: 0\n        }\n      });\n    };\n\n    this.getGenres = () => {\n      const link = \"\".concat(API_URL, \"/genre/movie/list?api_key=\").concat(API_KEY_3, \"&language=ru-RU\");\n      fetch(link).then(response => {\n        return response.json();\n      }).then(data => {\n        console.log(data);\n        this.setState({\n          genres: data.genres\n        });\n      });\n    };\n\n    this.onChangeGenres = e => {\n      this.setState({\n        genresList: _objectSpread({}, this.state.genresList, {\n          [e.target.id]: e.target.checked\n        })\n      });\n    };\n\n    this.getQueryGenres = () => {\n      const obj = this.state.genresList;\n      const arr = Object.keys(obj);\n      const result = arr.filter(key => obj[key]).this.setState({});\n    };\n\n    this.state = {\n      filters: {\n        sort_by: \"popularity.desc\",\n        year: 0\n      },\n      page: 1,\n      yearsList: yearsList,\n      amountFilms: 0,\n      genres: [],\n      genresList: {},\n      queryGenres: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getGenres();\n  }\n\n  render() {\n    const _this$state = this.state,\n          filters = _this$state.filters,\n          page = _this$state.page,\n          yearsList = _this$state.yearsList,\n          amountFilms = _this$state.amountFilms,\n          genres = _this$state.genres;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B:\"), React.createElement(Filters, {\n      page: page,\n      filters: filters,\n      onChangeFilters: this.onChangeFilters,\n      onChangePage: this.onChangePage,\n      yearsList: yearsList,\n      amountFilms: amountFilms,\n      clearFilters: this.clearFilters,\n      genres: genres,\n      onChangeGenres: this.onChangeGenres,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"col-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(MoviesList, {\n      filters: filters,\n      page: page,\n      onChangePage: this.onChangePage,\n      getAmountPages: this.getAmountPages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/pavel/git/reactwarriors-movie-app/src/components/App.jsx"],"names":["React","Filters","MoviesList","API_URL","API_KEY_3","yearsList","App","Component","constructor","onChangeFilters","e","newFilters","state","filters","target","name","value","setState","onChangePage","page","getAmountPages","amountFilms","clearFilters","sort_by","year","getGenres","link","fetch","then","response","json","data","console","log","genres","onChangeGenres","genresList","id","checked","getQueryGenres","obj","arr","Object","keys","result","filter","key","this","queryGenres","componentDidMount","render","width"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport Filters from \"./Filters/Filters\";\nimport MoviesList from \"./Movies/MoviesList\";\n\nimport { API_URL, API_KEY_3 } from \"../api/api.js\";\nimport { yearsList } from \"../data/yearsList.js\";\n\nexport default class App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      filters: {\n        sort_by: \"popularity.desc\",\n        year: 0\n      },\n      page: 1,\n      yearsList: yearsList,\n      amountFilms: 0,\n      genres: [],\n      genresList: {},\n      queryGenres: \"\"\n    };\n  }\n\n  onChangeFilters = e => {\n    const newFilters = {\n      ...this.state.filters,\n      [e.target.name]: e.target.value\n    };\n    this.setState({\n      filters: newFilters\n    });\n  };\n\n  onChangePage = page => {\n    this.setState({\n      page: page\n    });\n  };\n\n  getAmountPages = value => {\n    this.setState({\n      amountFilms: value\n    });\n  };\n\n  clearFilters = () => {\n    this.setState({\n      filters: {\n        sort_by: \"popularity.desc\",\n        year: 0\n      }\n    });\n  };\n\n  getGenres = () => {\n    const link = `${API_URL}/genre/movie/list?api_key=${API_KEY_3}&language=ru-RU`;\n    fetch(link)\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        console.log(data);\n        this.setState({\n          genres: data.genres\n        });\n      });\n  };\n\n  onChangeGenres = e => {\n    this.setState({\n      genresList: {\n        ...this.state.genresList,\n        [e.target.id]: e.target.checked\n      }\n    });\n  };\n\n  componentDidMount() {\n    this.getGenres();\n  }\n\n  getQueryGenres = () => {\n    const obj = this.state.genresList;\n    const arr = Object.keys(obj);\n    const result = arr.filter(key => obj[key]).this.setState({});\n  };\n\n  render() {\n    const { filters, page, yearsList, amountFilms, genres } = this.state;\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-4\">\n            <div className=\"card\" style={{ width: \"100%\" }}>\n              <div className=\"card-body\">\n                <h3>Фильтры:</h3>\n                <Filters\n                  page={page}\n                  filters={filters}\n                  onChangeFilters={this.onChangeFilters}\n                  onChangePage={this.onChangePage}\n                  yearsList={yearsList}\n                  amountFilms={amountFilms}\n                  clearFilters={this.clearFilters}\n                  genres={genres}\n                  onChangeGenres={this.onChangeGenres}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-8\">\n            <MoviesList\n              filters={filters}\n              page={page}\n              onChangePage={this.onChangePage}\n              getAmountPages={this.getAmountPages}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}